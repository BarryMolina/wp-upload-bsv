(self.webpackChunkadmin_panel_react=self.webpackChunkadmin_panel_react||[]).push([[297],{3594:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>U});var r,a,l=n(7294),s=n(9669),o=n.n(s),c=n(1120),i=n(1911),u=n(2302),m=n(9613),f=n(8222),d=n(6847),p=n(3750),j=n(7394),h=n(9895),v=n(7903),b=n(282),y=n(1115),g=n(5281),E=n(7812),x=n(2318),Z=n(3492),k=n(529),w=n(1407),S=n(9659),z=n(5477),C=n(381),A=n.n(C);function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const P=function(e){return l.createElement("svg",M({viewBox:"0 0 2499.6 2500",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=l.createElement("path",{d:"M2499.6 1250c0 690.2-559.6 1249.8-1250.1 1249.9-690 0-1249.6-559.7-1249.5-1250C-.2 559.6 559.4 0 1249.7 0s1249.9 559.7 1249.9 1250z",fill:"#eab300"})),a||(a=l.createElement("g",{fill:"#fff"},l.createElement("path",{d:"M1741.5 943.8c-16.1-167.4-160.6-223.5-343.2-239.5V472H1257v226.1c-37.1 0-75.1.7-112.8 1.5V472h-141.3l-.1 232.1c-30.6.6-60.7 1.2-90 1.2v-.7l-194.9-.1v151s104.4-2 102.6-.1c57.3 0 75.9 33.2 81.3 61.9v264.6c4 0 9.1.2 14.9 1h-14.9l-.1 370.7c-2.5 18-13.1 46.7-53.1 46.8 1.8 1.6-102.7 0-102.7 0l-28.1 168.8h184c34.2 0 67.9.6 100.9.8l.1 234.9H1144v-232.4c38.7.8 76.2 1.1 112.9 1.1l-.1 231.3h141.3v-234.4c237.6-13.6 404.1-73.5 424.7-296.7 16.7-179.7-67.8-260-202.7-292.4 82.1-41.6 133.4-115.1 121.4-237.6zM1543.7 1446c0 175.5-300.5 155.6-396.4 155.6v-311.3c95.9.2 396.4-27.3 396.4 155.7zm-65.8-439.1c0 159.7-250.8 141-330.6 141.1V865.8c79.9 0 330.7-25.4 330.6 141.1z"}),l.createElement("path",{d:"M902 1175.7h21v15.5h-21z"}))))};var T=n(7913),_=n(8559);function V(e){return function(e){if(Array.isArray(e))return O(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||I(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,a,l=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(l.push(r.value),!t||l.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return l}}(e,t)||I(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){if(e){if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var N=wpbsv_ajax_obj.urls.api,Y=(0,c.Z)({table:{minWidth:650,"& > tbody tr:last-child > td":{borderBottom:"none"}},buttons:{display:"flex",alignItems:"center","& > :not(:first-child)":{marginLeft:".5rem"},"& button":{textTransform:"none"}},row:{"& > *":{borderBottom:"unset",borderTop:"unset"}},green:{color:"green"},red:{color:"red"},orange:{color:"orange"},logo:{maxWidth:"28px",marginLeft:"24px",transition:"transform .2s ease","&:hover":{cursor:"pointer",transform:"scale(1.2,1.2)"},"@media only screen and (max-width: 865px)":{marginLeft:"12px"}}}),D=(0,i.Z)("div")({padding:"1rem 0"}),B=function(e){var t=e.post,n=e.isItemSelected,r=e.handleClick,a=e.handleExpand,s=e.isExpanded,o=e.transactions,c=Y();return l.createElement(l.Fragment,null,l.createElement(j.Z,{className:c.row},l.createElement(f.Z,{padding:"checkbox"},l.createElement(v.Z,{checked:n(t.id),onClick:function(){return r(t.id)}})),l.createElement(f.Z,null,l.createElement(E.Z,{"aria-label":"expand row",size:"small",onClick:function(){return a(t.id)}},s?l.createElement(g.Z,null):l.createElement(y.Z,null))),l.createElement(f.Z,{component:"th",scope:"row"},l.createElement(S.Z,{href:t.link,target:"_blank"},t.title.rendered)),l.createElement(f.Z,null,t.author_name),t.modified>t.date?l.createElement(f.Z,null,"Last Modified",l.createElement("br",null),A()(t.modified).format("MM/DD/YYYY [at] h:mm:ss a")):l.createElement(f.Z,null,"Published",l.createElement("br",null),A()(t.date).format("MM/DD/YYYY [at] h:mm:ss a")),o.length>0?o.some((function(e){return A()(e.time).isSameOrAfter(t.modified)}))?l.createElement(f.Z,{className:c.green},"Mirrored"):l.createElement(f.Z,{className:c.orange},"Modified"):l.createElement(f.Z,{className:c.red},"Not Mirrored"),l.createElement(f.Z,null,o.length>0&&l.createElement(P,{className:c.logo,onClick:function(){return window.open("https://bico.media/"+function(){for(var e=o.length-1;e>=0;e--)if("19HxigV4QyBv3tHpQVcUEQyq1pzZVdoAut"===o[e].prefix)return o[e];return o[o.length-1]}().tx_id)}}))),l.createElement(j.Z,null,l.createElement(f.Z,{style:{paddingBottom:0,paddingTop:0},colSpan:7},l.createElement(Z.Z,{in:s,timeout:"auto",unmountOnExit:!0},l.createElement(k.Z,{margin:1},l.createElement(x.Z,{variant:"h6",gutterBottom:!0,component:"div"},"Transaction History"),o.length>0?l.createElement(u.Z,{size:"small","aria-label":"transactions"},l.createElement(p.Z,null,l.createElement(j.Z,null,l.createElement(f.Z,null,"Date Posted"),l.createElement(f.Z,null,"Prefix"),l.createElement(f.Z,null,"Txid"))),l.createElement(m.Z,null,o.map((function(e){return l.createElement(j.Z,{key:e.id},l.createElement(f.Z,null,A()(e.time).format("MM/DD/YYYY [at] h:mm:ss a")),l.createElement(f.Z,null,e.prefix),l.createElement(f.Z,null,l.createElement(S.Z,{href:"https://bico.media/".concat(e.tx_id),target:"_blank"},e.tx_id)))})))):l.createElement("p",null,"There are no transactions linked to this post."))))))};const U=(0,_.Z)((0,w.Z)((function(e){var t=e.areAllIndeterminate,n=e.areAllSelected,r=(e.areAnySelected,e.selectedCount,e.handleClearAll),a=e.handleSelect,s=e.handleSelectAll,c=e.isItemSelected,i=e.selections,x=e.protocols,Z=e.prefixTextValues,k=e.prefixSelectValues,w=e.prefixSelectHandler,S=e.prefixTextHandler,C=e.addPrefixHandler,A=e.addManyPrefix,M=e.deletePrefixHandler,P=H((0,l.useState)([]),2),_=P[0],I=P[1],O=H((0,l.useState)([]),2),U=O[0],L=O[1],Q=H((0,l.useState)([]),2),q=Q[0],F=Q[1],W=H((0,l.useState)(!1),2),$=W[0],G=W[1];(0,l.useEffect)((function(){o().get(N+"wp/v2/posts").then((function(e){var t=e.data,n=V(new Set(t.map((function(e){return e.author}))));Promise.all(n.map((function(e){return o().get("".concat(N,"wp/v2/users/").concat(e))}))).then((function(e){return Promise.all(e.map((function(e){return e.data})))})).then((function(e){var r={};n.forEach((function(t,n){return r[t]=e[n].name})),t.forEach((function(e){return e.author_name=r[e.author]})),I(t)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)})),o().get("".concat(N,"wpbsv/v1/transactions")).then((function(e){L(e.data)})).catch((function(e){console.log(e)})),A(wpbsv_ajax_obj.prefixes)}),[]);var J=Y(),K=function(e){a(e)},X=function(e){q.includes(e)?F(q.filter((function(t){return t!==e}))):F([].concat(V(q),[e]))};return l.createElement("div",null,l.createElement(d.Z,{component:h.Z},l.createElement(u.Z,{className:J.table,"aria-label":"simple table"},l.createElement(p.Z,null,l.createElement(j.Z,null,l.createElement(f.Z,{padding:"checkbox"},l.createElement(v.Z,{checked:n(_),onClick:function(){return s(_)},indeterminate:t(_)})),l.createElement(f.Z,null,l.createElement(E.Z,{"aria-label":"expand row",size:"small",onClick:function(){_.length===q.length?F([]):F(_.map((function(e){return e.id})))}},_.length===q.length?l.createElement(g.Z,null):l.createElement(y.Z,null))),l.createElement(f.Z,null,"Title"),l.createElement(f.Z,null,"Author"),l.createElement(f.Z,null,"Date"),l.createElement(f.Z,null,"Status"),l.createElement(f.Z,null,"View on BSV"))),l.createElement(m.Z,null,_.map((function(e){return l.createElement(B,{key:e.id,post:e,isItemSelected:c,handleClick:K,handleExpand:X,isExpanded:(t=e.id,q.includes(t)),transactions:U.filter((function(t){return t.post_id==e.id}))});var t}))))),l.createElement(D,null,k.map((function(e,t){return l.createElement(T.Z,{key:t,optionsIndex:t,protocols:x,prefixTextValue:Z[t],prefixSelectValue:k[t],setPrefixSelect:w,setPrefixText:S,deleteHandler:M})}))),l.createElement("div",{className:J.buttons},l.createElement(b.Z,{variant:"contained",color:"secondary",onClick:C},"Add Prefix"),l.createElement(b.Z,{variant:"contained",color:"primary",onClick:function(){return function(){G(!0);var e={postIds:Array.from(Object.entries(i),(function(e){var t=H(e,2),n=t[0];if(!0===t[1])return n})),prefixes:Z,filetype:"text/markdown",encoding:"utf-8"};o().post("".concat(N,"wpbsv/v1/transactions"),e,{headers:{"X-WP-Nonce":wpbsv_ajax_obj.nonce}}).then((function(e){L([].concat(V(U),V(e.data))),r(_),G(!1)})).catch((function(e){G(!1),console.log(e.response?e.response:e)}))}()}},"Send"),$&&l.createElement(z.Z,{style:{width:"32px",height:"32px"}})))})))},7913:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(7294),a=n(1120),l=n(7812),s=n(8428),o=(0,a.Z)({inputContainer:{display:"flex",alignItems:"center","& label":{fontSize:"1rem"},"& > :not(:first-child)":{marginLeft:".4rem"},'& input[type="text"]':{width:"250px"}}});const c=function(e){var t=e.optionsIndex,n=e.protocols,a=e.prefixSelectValue,c=e.prefixTextValue,i=e.setPrefixSelect,u=e.setPrefixText,m=e.deleteHandler,f=o();return r.createElement("div",{className:f.inputContainer},r.createElement("label",{htmlFor:"prefix",id:"prefix-label"},"Prefix:"),r.createElement("select",{name:"protocol",id:"protocol",value:a,onChange:function(e){var n=e.target.value;i(n,t)}},Array.from(n.keys(),(function(e){return r.createElement("option",{value:e,key:e},e)})),r.createElement("option",{value:"Custom"},"Custom")),r.createElement("input",{name:"prefix",id:"prefix",type:"text",value:c,onChange:function(e){var n=e.target.value;u(n,t)}}),r.createElement(l.Z,{"aria-label":"delete",onClick:function(){return m(t)}},r.createElement(s.Z,null)))}},8559:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(7294);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,a,l=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(l.push(r.value),!t||l.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var o=[["B:// (Default)","19HxigV4QyBv3tHpQVcUEQyq1pzZVdoAut"],["D://","19iG3WTYSsbyos3uJ733yK4zEioi1FesNU"]],c=new Map(o),i=new Map(o.map((function(e){return[e[1],e[0]]})));const u=function(e){return function(t){var n=l((0,r.useState)(["Custom"]),2),s=n[0],o=n[1],u=l((0,r.useState)([""]),2),m=u[0],f=u[1],d=function(e,t){var n=s.slice();n[t]=e,o(n)},p=function(e,t){var n=m.slice();n[t]=e,f(n)};return r.createElement(e,a({protocols:c,prefixTextValues:m,prefixSelectValues:s,prefixSelectHandler:function(e,t){d(e,t),c.has(e)?p(c.get(e),t):p("",t)},prefixTextHandler:function(e,t){p(e,t),c.has(s[t])&&c.get(s[t])!==e&&d("Custom",t),i.has(e)&&d(i.get(e),t)},addPrefixHandler:function(){var e=s.slice(),t=m.slice();e.push("Custom"),t.push(""),o(e),f(t)},addManyPrefix:function(e){f(e),o(e.map((function(e){return i.has(e)?i.get(e):"Custom"})))},deletePrefixHandler:function(e){var t=s.slice(),n=m.slice();t.splice(e,1),n.splice(e,1),o(t),f(n)}},t))}}},6700:(e,t,n)=>{var r={"./af":2786,"./af.js":2786,"./ar":867,"./ar-dz":4130,"./ar-dz.js":4130,"./ar-kw":6135,"./ar-kw.js":6135,"./ar-ly":6440,"./ar-ly.js":6440,"./ar-ma":7702,"./ar-ma.js":7702,"./ar-sa":6040,"./ar-sa.js":6040,"./ar-tn":7100,"./ar-tn.js":7100,"./ar.js":867,"./az":1083,"./az.js":1083,"./be":9808,"./be.js":9808,"./bg":8338,"./bg.js":8338,"./bm":7438,"./bm.js":7438,"./bn":8905,"./bn-bd":6225,"./bn-bd.js":6225,"./bn.js":8905,"./bo":1560,"./bo.js":1560,"./br":1278,"./br.js":1278,"./bs":622,"./bs.js":622,"./ca":2468,"./ca.js":2468,"./cs":5822,"./cs.js":5822,"./cv":877,"./cv.js":877,"./cy":7373,"./cy.js":7373,"./da":4780,"./da.js":4780,"./de":9740,"./de-at":217,"./de-at.js":217,"./de-ch":894,"./de-ch.js":894,"./de.js":9740,"./dv":5300,"./dv.js":5300,"./el":837,"./el.js":837,"./en-au":8348,"./en-au.js":8348,"./en-ca":7925,"./en-ca.js":7925,"./en-gb":2243,"./en-gb.js":2243,"./en-ie":6436,"./en-ie.js":6436,"./en-il":7207,"./en-il.js":7207,"./en-in":4175,"./en-in.js":4175,"./en-nz":6319,"./en-nz.js":6319,"./en-sg":1662,"./en-sg.js":1662,"./eo":2915,"./eo.js":2915,"./es":7093,"./es-do":5251,"./es-do.js":5251,"./es-mx":6112,"./es-mx.js":6112,"./es-us":1146,"./es-us.js":1146,"./es.js":7093,"./et":5603,"./et.js":5603,"./eu":7763,"./eu.js":7763,"./fa":6959,"./fa.js":6959,"./fi":1897,"./fi.js":1897,"./fil":2549,"./fil.js":2549,"./fo":4694,"./fo.js":4694,"./fr":4470,"./fr-ca":3049,"./fr-ca.js":3049,"./fr-ch":2330,"./fr-ch.js":2330,"./fr.js":4470,"./fy":5044,"./fy.js":5044,"./ga":9295,"./ga.js":9295,"./gd":2101,"./gd.js":2101,"./gl":8794,"./gl.js":8794,"./gom-deva":7884,"./gom-deva.js":7884,"./gom-latn":3168,"./gom-latn.js":3168,"./gu":5349,"./gu.js":5349,"./he":4206,"./he.js":4206,"./hi":94,"./hi.js":94,"./hr":316,"./hr.js":316,"./hu":2138,"./hu.js":2138,"./hy-am":1423,"./hy-am.js":1423,"./id":9218,"./id.js":9218,"./is":135,"./is.js":135,"./it":626,"./it-ch":150,"./it-ch.js":150,"./it.js":626,"./ja":9183,"./ja.js":9183,"./jv":4286,"./jv.js":4286,"./ka":2105,"./ka.js":2105,"./kk":7772,"./kk.js":7772,"./km":8758,"./km.js":8758,"./kn":9282,"./kn.js":9282,"./ko":3730,"./ko.js":3730,"./ku":1408,"./ku.js":1408,"./ky":3291,"./ky.js":3291,"./lb":6841,"./lb.js":6841,"./lo":5466,"./lo.js":5466,"./lt":7010,"./lt.js":7010,"./lv":7595,"./lv.js":7595,"./me":9861,"./me.js":9861,"./mi":5493,"./mi.js":5493,"./mk":5966,"./mk.js":5966,"./ml":7341,"./ml.js":7341,"./mn":5115,"./mn.js":5115,"./mr":370,"./mr.js":370,"./ms":9847,"./ms-my":1237,"./ms-my.js":1237,"./ms.js":9847,"./mt":2126,"./mt.js":2126,"./my":6165,"./my.js":6165,"./nb":4924,"./nb.js":4924,"./ne":6744,"./ne.js":6744,"./nl":3901,"./nl-be":9814,"./nl-be.js":9814,"./nl.js":3901,"./nn":3877,"./nn.js":3877,"./oc-lnc":2135,"./oc-lnc.js":2135,"./pa-in":5858,"./pa-in.js":5858,"./pl":4495,"./pl.js":4495,"./pt":9520,"./pt-br":7971,"./pt-br.js":7971,"./pt.js":9520,"./ro":6459,"./ro.js":6459,"./ru":238,"./ru.js":238,"./sd":950,"./sd.js":950,"./se":490,"./se.js":490,"./si":124,"./si.js":124,"./sk":4249,"./sk.js":4249,"./sl":4985,"./sl.js":4985,"./sq":1104,"./sq.js":1104,"./sr":9131,"./sr-cyrl":9915,"./sr-cyrl.js":9915,"./sr.js":9131,"./ss":5893,"./ss.js":5893,"./sv":8760,"./sv.js":8760,"./sw":1172,"./sw.js":1172,"./ta":7333,"./ta.js":7333,"./te":3110,"./te.js":3110,"./tet":2095,"./tet.js":2095,"./tg":7321,"./tg.js":7321,"./th":9041,"./th.js":9041,"./tk":9005,"./tk.js":9005,"./tl-ph":5768,"./tl-ph.js":5768,"./tlh":9444,"./tlh.js":9444,"./tr":2397,"./tr.js":2397,"./tzl":8254,"./tzl.js":8254,"./tzm":1106,"./tzm-latn":699,"./tzm-latn.js":699,"./tzm.js":1106,"./ug-cn":9288,"./ug-cn.js":9288,"./uk":7691,"./uk.js":7691,"./ur":3795,"./ur.js":3795,"./uz":6791,"./uz-latn":588,"./uz-latn.js":588,"./uz.js":6791,"./vi":5666,"./vi.js":5666,"./x-pseudo":4378,"./x-pseudo.js":4378,"./yo":5805,"./yo.js":5805,"./zh-cn":3839,"./zh-cn.js":3839,"./zh-hk":5726,"./zh-hk.js":5726,"./zh-mo":9807,"./zh-mo.js":9807,"./zh-tw":4152,"./zh-tw.js":4152};function a(e){var t=l(e);return n(t)}function l(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=l,e.exports=a,a.id=6700}}]);